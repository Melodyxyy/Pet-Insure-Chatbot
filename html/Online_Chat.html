<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Chat of Pet Insurance</title>
    <link rel="stylesheet" type="text/css" href="http://localhost/PetInsure/CSS/styles.css">
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      $(document).ready(function() {
            $(".send-button").click(function() {
              var userInput = $(".user-input").val();
              var apiUrl = "http://localhost/PetInsure/PHP/local-proxy.php";
              $.ajax({
                url: apiUrl,
                type: "POST",
                data: JSON.stringify({
                  userInput: userInput
                }),
                contentType: "application/json",
                success: function(response) {
                  var chatbox = $(".chat-box");
                  chatbox.append(" < p > < strong > You: < /strong> " + userInput + " < /p>");
                    chatbox.append(" < p > < strong > Bot: < /strong> " + response.botResponse + " < /p>");
                      chatbox.scrollTop(chatbox[0].scrollHeight);
                    }, error: function(error) {
                      console.error("Error:", error);
                    }
                  });
              });
            });
    </script>
  </head>
  <body>
    <header>
      <h1>Online Chat</h1>
    </header>

    <nav>
      <ul>
        <li>
          <a href="Index.html">
            <button>Home</button>
          </a>
        </li>
        <li>
          <div class="dropdown">
            <button>Insurance Policy</button>
            <div class="dropdown-options">
              <a href="Dog_Insurance.html">Dog Insurance</a>
              <a href="Cat_Insurance.html">Cat Insurance</a>
            </div>
          </div>
        </li>
        <li>
          <a href="Online_Chat.html">
            <button>Online Chat</button>
          </a>
        </li>
        <li>
          <a href="Claims.html">
            <button>Claims</button>
          </a>
        </li>
        <li>
          <a href="FAQs.html">
            <button>FAQs</button>
          </a>
        </li>
        <li>
          <a href="Contact_us.html">
            <button>Contact us</button>
          </a>
        </li>
        <li>
          <div class="dropdown">
            <button>Account</button>
            <div class="dropdown-options">
              <a href="Login.html">Login</a>
              <a href="../PHP/logout.php">Signout</a>
            </div>
          </div>
        </li>
      </ul>
    </nav>
    <main>
      <div class="chat-container">
        <h1>Online Chat</h1>
        <p>Welcome to our online chat service. How can we assist you today?</p>
        <div class="chat-box">
          <!-- Chatbox content will be displayed here -->
        </div>
        <div class="user-input-section">
          <div class="user-input-container">
            <input type="text" class="user-input" placeholder="Type your message">
          </div>
          <button class="send-button">Send</button>
        </div>
      </div>
    </main>
    <br>
    <footer>
      <!-- Footer content-->
      <div class="large-4 columns">
        <p class="text-right">Copyright (c) 2023, Pet Secure Pty Ltd.</p>
      </div>
    </footer>
  </body>
</html>